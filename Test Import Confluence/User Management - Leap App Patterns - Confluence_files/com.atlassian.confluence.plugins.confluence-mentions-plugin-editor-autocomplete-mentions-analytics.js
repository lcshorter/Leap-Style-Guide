WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-mentions-plugin:editor-autocomplete-mentions-analytics', location = 'js/tinyMce-autocomplete-analytics-mentions.js' */
define("confluence-mentions-plugin/tinyMce-autocomplete-analytics-mentions",["confluence/api/event"],function(e){var d;var c=false;function b(i,j){if(j.triggerChar==="@"){d=Date.now();c=false;e.trigger("analytics",{name:"confluence.editor.autocomplete.mentions.trigger",data:{}})}}function f(j,k){if(k.triggerChar==="@"){var i=a(false);c=true;e.trigger("analytics",{name:g("confluence.editor.autocomplete.mentions.insert",i),data:{sessionDurationInMillis:i}})}}function h(j,k){if(k.triggerChar==="@"){if(!c){var i=a(true);e.trigger("analytics",{name:g("confluence.editor.autocomplete.mentions.close",i),data:{sessionDurationInMillis:i}})}c=false}}function a(j){var i=-1;if(d){i=Date.now()-d;if(j){d=null}}return i}function g(j,i){if(i===-1){return j}else{if(i<1000){return j+".less.than.1s"}else{if(i<5000){return j+".less.than.5s"}else{if(i<10000){return j+".less.than.10s"}else{if(i<20000){return j+".less.than.20s"}else{return j+".more.than.20s"}}}}}}return{init:function(){e.bind("init.rte",function(){if(!AJS.DarkFeatures.isEnabled("fabric.mentions")||!AJS.Meta.getBoolean("editor-frontend-enabled")){e.bind("rte-autocomplete-on-start",b);e.bind("rte-autocomplete-on-select",f);e.bind("rte-autocomplete-on-death",h)}});e.bind("rte-destroyed",function(){if(!AJS.DarkFeatures.isEnabled("fabric.mentions")||!AJS.Meta.getBoolean("editor-frontend-enabled")){e.unbind("rte-autocomplete-on-death",h);e.unbind("rte-autocomplete-on-select",f);e.unbind("rte-autocomplete-on-start",b)}})}}});require("confluence/module-exporter").safeRequire("confluence-mentions-plugin/tinyMce-autocomplete-analytics-mentions",function(a){a.init()});
}catch(e){WRMCB(e)};